"use strict";(self.webpackChunkkpiece=self.webpackChunkkpiece||[]).push([[329],{329:(s,e,a)=>{a.r(e),a.d(e,{default:()=>i});var t=a(43),c=a(675),r=a(579);const i=()=>{const{searchtext:s}=(0,c.g)(),[e,a]=(0,t.useState)([]),[i,n]=(0,t.useState)(!0),[l,o]=(0,t.useState)(null);return(0,t.useEffect)((()=>{if("string"===typeof s){const e=s.substring(0,3);console.log("First three letters:",e)}(async()=>{try{const e=await fetch("https://kpiece2.s3.eu-west-3.amazonaws.com/data/search.json"),t=await e.json();let c=[];if(isNaN(s))c=t.filter((e=>e.arc&&e.arc.toLowerCase().startsWith(s.toLowerCase().substring(0,3))));else{const e=parseInt(s,10);c=t.filter((s=>e>=s.firstscan&&e<=s.lastscan))}a(c),n(!1)}catch(e){o(e.message),n(!1)}})()}),[s]),i?(0,r.jsx)("div",{children:"Loading..."}):l?(0,r.jsxs)("div",{children:["Error: ",l]}):(0,r.jsxs)("div",{className:"search-page",children:[(0,r.jsxs)("h1",{children:['R\xe9sultat pour : "',s,'"']}),(0,r.jsx)("div",{className:"search-results",children:0===e.length?(0,r.jsx)("div",{children:"Pas de r\xe9sultat trouv\xe9"}):e.map(((e,a)=>(0,r.jsxs)("div",{className:"result-item",children:[!isNaN(s)&&(0,r.jsx)("div",{className:"arc-bubble arc-chapter",children:(0,r.jsxs)(c.N_,{to:`/scan/${e.saga}/${e.arc}/${s}/01`,children:["CHAPITRE ",s]})}),(0,r.jsx)(c.N_,{to:`/saga/${e.saga}/${e.arc}`,className:"arc-bubble",style:{backgroundImage:`url(https://kpiece2.s3.eu-west-3.amazonaws.com/img/arcs/${e.arc}.webp)`,backgroundSize:"cover",backgroundPosition:"center"},children:(0,r.jsx)("div",{className:"arc-name",children:e.arcname})})]},a)))})]})}}}]);
//# sourceMappingURL=329.b60f7f65.chunk.js.map