{"version":3,"file":"static/js/329.b60f7f65.chunk.js","mappings":"0JAIA,MAsFA,EAtFeA,KACb,MAAM,WAAEC,IAAeC,EAAAA,EAAAA,MAChBC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,KAChCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,MAuCnC,OArCAK,EAAAA,EAAAA,YAAU,KACR,GAA0B,kBAAfT,EAAyB,CAClC,MAAMU,EAAoBV,EAAWW,UAAU,EAAG,GAClDC,QAAQC,IAAI,uBAAwBH,EACtC,CAE2BI,WACzB,IACE,MAAMC,QAAiBC,MAAM,+DACvBC,QAAaF,EAASG,OAE5B,IAAIC,EAAkB,GAEtB,GAAKC,MAAMpB,GAMTmB,EAAkBF,EAAKI,QACrBC,GACEA,EAAKC,KACLD,EAAKC,IAAIC,cAAcC,WAAWzB,EAAWwB,cAAcb,UAAU,EAAG,UATtD,CACtB,MAAMe,EAAaC,SAAS3B,EAAY,IACxCmB,EAAkBF,EAAKI,QACrBC,GAAQI,GAAcJ,EAAKM,WAAaF,GAAcJ,EAAKO,UAE/D,CAQA1B,EAAWgB,GACXb,GAAW,EACb,CAAE,MAAOwB,GACPtB,EAASsB,EAAIC,SACbzB,GAAW,EACb,GAGF0B,EAAoB,GACnB,CAAChC,IAEAK,GAAgB4B,EAAAA,EAAAA,KAAA,OAAAC,SAAK,eACrB3B,GAAc4B,EAAAA,EAAAA,MAAA,OAAAD,SAAA,CAAK,UAAQ3B,MAG7B4B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaF,SAAA,EAC1BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,uBAAkBlC,EAAW,QACjCiC,EAAAA,EAAAA,KAAA,OAAKG,UAAU,iBAAgBF,SACT,IAAnBhC,EAAQmC,QACPJ,EAAAA,EAAAA,KAAA,OAAAC,SAAK,iCAELhC,EAAQoC,KAAI,CAACC,EAAQC,KAEnBL,EAAAA,EAAAA,MAAA,OAAiBC,UAAU,cAAaF,SAAA,EAGpCd,MAAMpB,KACNiC,EAAAA,EAAAA,KAAA,OAAKG,UAAU,yBAAwBF,UACrCC,EAAAA,EAAAA,MAACM,EAAAA,GAAI,CAACC,GAAI,SAASH,EAAOI,QAAQJ,EAAOhB,OAAOvB,OAAgBkC,SAAA,CAAC,YACrDlC,QAKhBiC,EAAAA,EAAAA,KAACQ,EAAAA,GAAI,CACHC,GAAI,SAASH,EAAOI,QAAQJ,EAAOhB,MACnCa,UAAU,aACVQ,MAAO,CACLC,gBAAiB,2DAA2DN,EAAOhB,YACnFuB,eAAgB,QAChBC,mBAAoB,UACpBb,UAEFD,EAAAA,EAAAA,KAAA,OAAKG,UAAU,WAAUF,SAAEK,EAAOS,cApB5BR,SA2BZ,C","sources":["pages/Search/Search.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport './Search.css';\r\n\r\nconst Search = () => {\r\n  const { searchtext } = useParams();\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (typeof searchtext === 'string') {\r\n      const firstThreeLetters = searchtext.substring(0, 3);\r\n      console.log('First three letters:', firstThreeLetters);\r\n    }\r\n\r\n    const fetchSearchResults = async () => {\r\n      try {\r\n        const response = await fetch('https://kpiece2.s3.eu-west-3.amazonaws.com/data/search.json');\r\n        const data = await response.json();\r\n\r\n        let filteredResults = [];\r\n\r\n        if (!isNaN(searchtext)) {\r\n          const scanNumber = parseInt(searchtext, 10);\r\n          filteredResults = data.filter(\r\n            item => scanNumber >= item.firstscan && scanNumber <= item.lastscan\r\n          );\r\n        } else {\r\n          filteredResults = data.filter(\r\n            item =>\r\n              item.arc &&\r\n              item.arc.toLowerCase().startsWith(searchtext.toLowerCase().substring(0, 3))\r\n          );\r\n        }\r\n\r\n        setResults(filteredResults);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError(err.message);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchSearchResults();\r\n  }, [searchtext]);\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>Error: {error}</div>;\r\n\r\n  return (\r\n    <div className=\"search-page\">\r\n      <h1>Résultat pour : \"{searchtext}\"</h1>\r\n      <div className=\"search-results\">\r\n        {results.length === 0 ? (\r\n          <div>Pas de résultat trouvé</div>\r\n        ) : (\r\n          results.map((result, index) => (\r\n\r\n            <div key={index} className=\"result-item\">\r\n\r\n\r\n              {!isNaN(searchtext) && (\r\n                <div className=\"arc-bubble arc-chapter\">\r\n                  <Link to={`/scan/${result.saga}/${result.arc}/${searchtext}/01`}>\r\n                    CHAPITRE {searchtext}\r\n                  </Link>\r\n                </div>\r\n              )}\r\n\r\n              <Link\r\n                to={`/saga/${result.saga}/${result.arc}`}\r\n                className=\"arc-bubble\"\r\n                style={{\r\n                  backgroundImage: `url(https://kpiece2.s3.eu-west-3.amazonaws.com/img/arcs/${result.arc}.webp)`,\r\n                  backgroundSize: 'cover',\r\n                  backgroundPosition: 'center',\r\n                }}\r\n              >\r\n                <div className=\"arc-name\">{result.arcname}</div>\r\n              </Link>\r\n\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"names":["Search","searchtext","useParams","results","setResults","useState","loading","setLoading","error","setError","useEffect","firstThreeLetters","substring","console","log","async","response","fetch","data","json","filteredResults","isNaN","filter","item","arc","toLowerCase","startsWith","scanNumber","parseInt","firstscan","lastscan","err","message","fetchSearchResults","_jsx","children","_jsxs","className","length","map","result","index","Link","to","saga","style","backgroundImage","backgroundSize","backgroundPosition","arcname"],"sourceRoot":""}