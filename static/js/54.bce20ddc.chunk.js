"use strict";(self.webpackChunkkpiece=self.webpackChunkkpiece||[]).push([[54],{54:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var o=t(675),a=t(43),m=t(579);const c=e=>{let{tomeNumber:s,imgTome:t,fallbackSources:c=[],tomeName:r}=e;const n=(0,o.Zp)(),[l,i]=(0,a.useState)(t),[u,d]=(0,a.useState)(0);return(0,m.jsxs)("div",{className:"tome-card",onClick:()=>{const e=window.location.pathname;n(`${e}/${s}`)},children:[(0,m.jsxs)("h3",{children:["TOME ",s]}),(0,m.jsx)("img",{src:l,onError:()=>{u<c.length?(i(c[u]),d(u+1)):console.error("Aucune image disponible pour ce tome.")},alt:`Illustration of ${r}`,className:"tome-card-image"}),(0,m.jsx)("h4",{children:r})]})},r=()=>{const[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(!0),{tomelist:n}=(0,o.g)();(0,a.useEffect)((()=>{window.scrollTo(0,0),fetch(`https://kpiece2.s3.eu-west-3.amazonaws.com/data/tomes/${n}.json`).then((e=>e.json())).then((e=>s(e))).catch((e=>console.error("Erreur lors de la r\xe9cup\xe9ration des tomes :",e)))}),[n]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h2",{className:"tome-h2",children:" Liste des tomes "}),(0,m.jsx)("div",{className:"sort-button",children:(0,m.jsx)("button",{onClick:()=>r(!t),children:(0,m.jsx)("i",{className:"fa-solid fa-angles-up "+(t?"":"rotated")})})}),(0,m.jsx)("div",{className:"tome-selector",children:["0","10","20","30","40","50","60","70","80","90","100","110"].map((e=>(0,m.jsxs)(o.N_,{to:`/tomes/${e}`,className:n===e?"active":"",children:["TOME ",e,"+"]},e)))}),(0,m.jsx)("div",{className:"tome-home",children:[...e].sort(((e,s)=>t?e.tome-s.tome:s.tome-e.tome)).map((e=>{return(0,m.jsx)(c,{tomeNumber:e.tome,imgTome:`https://kpiece2.s3.eu-west-3.amazonaws.com/img/tomes/${n}/${e.tome}.webp`,fallbackImages:(s=`https://kpiece2.s3.eu-west-3.amazonaws.com/img/tomes/${n}/Image`,t=e.tome,["webp","jpg","png"].map((e=>`${s}/${t}.${e}`))),tomeName:e.name},e.tome);var s,t}))})]})}}}]);
//# sourceMappingURL=54.bce20ddc.chunk.js.map